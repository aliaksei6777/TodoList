(this["webpackJsonpit-incubator-todolist-ts"]=this["webpackJsonpit-incubator-todolist-ts"]||[]).push([[0],{105:function(t,e,n){},107:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),c=n(8),i=n.n(c);n(80),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o,s,l=n(23),u=n(28),d=n(13),f=n.n(d),p=n(19),m=n(42),b=n(24),O=n(9),T=n(61),v=n.n(T).a.create({baseURL:"https://social-network.samuraijs.com/api/1.1/",withCredentials:!0,headers:{"API-KEY":"3968e2e7-ef1b-4e58-9108-d41e4dea47f4"}}),k=function(t,e){return v.put("todo-lists/".concat(t),{title:e})},E=function(t){return v.delete("todo-lists/".concat(t))},h=function(t){return v.post("todo-lists",{title:t})},j=function(){return v.get("todo-lists")},g=function(t){return v.get("todo-lists/".concat(t,"/tasks"))},L=function(t,e){return v.post("todo-lists/".concat(t,"/tasks"),{title:e})},I=function(t,e){return v.delete("/todo-lists/".concat(t,"/tasks/").concat(e))},w=function(t,e,n){return v.put("/todo-lists/".concat(e,"/tasks/").concat(n),t)};!function(t){t[t.New=0]="New",t[t.InProgress=1]="InProgress",t[t.Completed=2]="Completed",t[t.Draft=3]="Draft"}(o||(o={})),function(t){t[t.Low=0]="Low",t[t.Middle=1]="Middle",t[t.Hi=2]="Hi",t[t.Urgently=3]="Urgently",t[t.Later=4]="Later"}(s||(s={}));var y={},C=function(t,e){return{type:"REMOVE-TASK",todoListId:t,taskId:e}},S=function(t,e,n){return{type:"UPDATE-TASK",todoListId:t,taskID:e,model:n}},x=function(t,e,n){return function(){var a=Object(p.a)(f.a.mark((function a(r,c){var i,o;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:a.prev=0,i=c(),(o=i.tasks[t].find((function(t){return t.id===e})))&&(w(Object(O.a)({title:o.title,description:o.description,status:o.status,priority:o.priority,startDate:o.startDate,deadline:o.deadline},n),t,e),r(S(t,e,n))),a.next=9;break;case 6:throw a.prev=6,a.t0=a.catch(0),new Error(a.t0);case 9:case"end":return a.stop()}}),a,null,[[0,6]])})));return function(t,e){return a.apply(this,arguments)}}()},D=[],A=n(62),F=Object(u.c)({tasks:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"REMOVE-TASK":return Object(O.a)(Object(O.a)({},t),{},Object(b.a)({},e.todoListId,t[e.todoListId].filter((function(t){return t.id!==e.taskId}))));case"ADD-TASK":return Object(O.a)(Object(O.a)({},t),{},Object(b.a)({},e.task.todoListId,[].concat(Object(m.a)(t[e.task.todoListId]),[e.task])));case"UPDATE-TASK":return Object(O.a)(Object(O.a)({},t),{},Object(b.a)({},e.todoListId,t[e.todoListId].map((function(t){return t.id===e.taskID?Object(O.a)(Object(O.a)({},t),e.model):t}))));case"ADD-TODOLIST":return Object(O.a)(Object(O.a)({},t),{},Object(b.a)({},e.todolist.id,[]));case"REMOVE-TODOLIST":var n=Object(O.a)({},t);return delete n[e.todoListId],n;case"SET-TODOLIST":var a=Object(O.a)({},t);return e.todolists.forEach((function(t){a[t.id]=[]})),a;case"SET-TASKS":return Object(O.a)(Object(O.a)({},t),{},Object(b.a)({},e.todoListId,e.tasks));default:return t}},todolists:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"REMOVE-TODOLIST":return t.filter((function(t){return t.id!==e.todoListId}));case"ADD-TODOLIST":return[Object(O.a)(Object(O.a)({},e.todolist),{},{filter:"all"})].concat(Object(m.a)(t));case"CHANGE-TODOLIST-TITLE":return t.map((function(t){return t.id===e.todoListId?Object(O.a)(Object(O.a)({},t),{},{title:e.title}):t}));case"CHANGE-TODOLIST-FILTER":return t.map((function(t){return t.id===e.todoListId?Object(O.a)(Object(O.a)({},t),{},{filter:e.filter}):t}));case"SET-TODOLIST":return e.todolists.map((function(t){return Object(O.a)(Object(O.a)({},t),{},{filter:"all"})}));default:return t}}}),K=Object(u.d)(F,Object(u.a)(A.a));window.store=K;n(105);var N=n(143),R=n(144),M=n(138),P=n(146),H=n(141),U=n(147),V=n(145),z=n(142),G=n(108),B=n(31),J=n(148),W=n(139),q=r.a.memo((function(t){var e=Object(a.useState)(""),n=Object(B.a)(e,2),c=n[0],i=n[1],o=Object(a.useState)(null),s=Object(B.a)(o,2),l=s[0],u=s[1],d=function(){var e=c.trim();e?(t.addItem(e),i("")):u("Title is required!")};return r.a.createElement("div",null,r.a.createElement(J.a,{variant:"outlined",label:"title",error:!!l,helperText:l,value:c,onChange:function(t){i(t.currentTarget.value)},onKeyPress:function(t){null!==l&&u(null),"Enter"===t.key&&d()}}),r.a.createElement(M.a,{color:"primary",onClick:d},r.a.createElement(W.a,null)))})),Y=n(140),$=n(149),Q=r.a.memo((function(t){console.log("EditableSpan");var e=Object(a.useState)(!1),n=Object(B.a)(e,2),c=n[0],i=n[1],o=Object(a.useState)(t.title),s=Object(B.a)(o,2),l=s[0],u=s[1],d=function(){i(!1),t.changeTitle(l)};return c?r.a.createElement(J.a,{value:l,autoFocus:!0,onChange:function(t){u(t.currentTarget.value)},onKeyPress:function(t){"Enter"===t.key&&d()},onBlur:d}):r.a.createElement("span",{onDoubleClick:function(){return i(!0)}},t.title)})),X=r.a.memo((function(t){var e=t.task,n=t.todoListId,c=t.changeTaskTitle,i=t.changeTaskStatus,s=t.removeTask;console.log("Task");var l=Object(a.useCallback)((function(){return s(n,e.id)}),[s,e.id,n]),u=Object(a.useCallback)((function(t){return i(n,e.id,t.currentTarget.checked?o.Completed:o.New)}),[i,e.id,n]),d=Object(a.useCallback)((function(t){c(n,e.id,t)}),[c,e.id,n]);return r.a.createElement("div",{key:e.id,style:{position:"relative"}},r.a.createElement($.a,{onChange:u,checked:e.status===o.Completed}),r.a.createElement(Q,{title:e.title,changeTitle:d}),r.a.createElement(M.a,{onClick:l,style:{position:"absolute",right:"5px"}},r.a.createElement(Y.a,null)))})),Z=r.a.memo((function(t){var e=Object(l.b)();Object(a.useEffect)((function(){var n;e((n=t.id,function(){var t=Object(p.a)(f.a.mark((function t(e){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g(n);case 2:a=t.sent,e({type:"SET-TASKS",tasks:a.data.items,todoListId:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}),[]);var n=t.tasks;"active"===t.filter&&(n=n.filter((function(t){return t.status===o.New}))),"completed"===t.filter&&(n=n.filter((function(t){return t.status===o.Completed})));var c=n.map((function(e){return r.a.createElement(X,{key:e.id,task:e,todoListId:t.id,changeTaskTitle:t.changeTaskTitle,changeTaskStatus:t.changeTaskStatus,removeTask:t.removeTask})})),i=Object(a.useCallback)((function(e){return t.addTask(t.id,e)}),[t.addTask,t.id]),s=Object(a.useCallback)((function(e){t.changeTodoListTitle(t.id,e)}),[t.changeTodoListTitle,t.id]),u=Object(a.useCallback)((function(){t.changeTodoListFilter(t.id,"all")}),[t.changeTodoListFilter,t.id]),d=Object(a.useCallback)((function(){t.changeTodoListFilter(t.id,"active")}),[t.changeTodoListFilter,t.id]),m=Object(a.useCallback)((function(){t.changeTodoListFilter(t.id,"completed")}),[t.changeTodoListFilter,t.id]);return r.a.createElement("div",{style:{padding:"10px",position:"relative"}},r.a.createElement("h3",null,r.a.createElement(Q,{title:t.title,changeTitle:s}),r.a.createElement(M.a,{onClick:function(){return t.removeTodoList(t.id)},style:{position:"absolute",right:"2px",top:"2px"},size:"small"},r.a.createElement(Y.a,null))),r.a.createElement(q,{addItem:i}),r.a.createElement("div",null,c,!n.length&&r.a.createElement("div",{style:{padding:"10px",color:"grey"}},"No task")),r.a.createElement("div",null,r.a.createElement(H.a,{onClick:u,size:"small",variant:"all"===t.filter?"contained":"text"},"All"),r.a.createElement(H.a,{onClick:d,size:"small",variant:"active"===t.filter?"contained":"text",color:"primary"},"Active"),r.a.createElement(H.a,{onClick:m,size:"small",variant:"completed"===t.filter?"contained":"text",color:"secondary"},"Completed")))})),_=function(){Object(a.useEffect)((function(){n(function(){var t=Object(p.a)(f.a.mark((function t(e){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j();case 3:n=t.sent,e({type:"SET-TODOLIST",todolists:n.data}),t.next=10;break;case 7:throw t.prev=7,t.t0=t.catch(0),new Error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}())}),[]);var t=Object(l.c)((function(t){return t.todolists})),e=Object(l.c)((function(t){return t.tasks})),n=Object(l.b)(),c=Object(a.useCallback)((function(t,e){n(function(t,e){return function(){var n=Object(p.a)(f.a.mark((function n(a){var r;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,L(t,e);case 3:r=n.sent,a((c=t,{type:"ADD-TASK",task:r.data.data.item,todoListId:c})),n.next=10;break;case 7:throw n.prev=7,n.t0=n.catch(0),new Error(n.t0);case 10:case"end":return n.stop()}var c}),n,null,[[0,7]])})));return function(t){return n.apply(this,arguments)}}()}(t,e))}),[n]),i=Object(a.useCallback)((function(t,e){n(function(t,e){return function(){var n=Object(p.a)(f.a.mark((function n(a){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,I(t,e);case 3:n.sent,a(C(t,e)),n.next=10;break;case 7:throw n.prev=7,n.t0=n.catch(0),new Error(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(t){return n.apply(this,arguments)}}()}(t,e))}),[n]),o=Object(a.useCallback)((function(t,e,a){n(x(t,e,{status:a}))}),[n]),s=Object(a.useCallback)((function(t,e,a){n(x(t,e,{title:a}))}),[n]),u=Object(a.useCallback)((function(t){n(function(t){return function(){var e=Object(p.a)(f.a.mark((function e(n){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h(t);case 3:a=e.sent,n({type:"ADD-TODOLIST",todolist:a.data.data.item}),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}(t))}),[n]),d=Object(a.useCallback)((function(t,e){n({type:"CHANGE-TODOLIST-FILTER",todoListId:t,filter:e})}),[n]),m=Object(a.useCallback)((function(t){n(function(t){return function(){var e=Object(p.a)(f.a.mark((function e(n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E(t);case 3:e.sent,n({type:"REMOVE-TODOLIST",todoListId:t}),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}(t))}),[n]),b=Object(a.useCallback)((function(t,e){n(function(t,e){return function(n){k(t,e).then((function(a){n(function(t,e){return{type:"CHANGE-TODOLIST-TITLE",todoListId:t,title:e}}(t,e))}))}}(t,e))}),[n]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,{container:!0,style:{padding:"20px"}},r.a.createElement("div",null,r.a.createElement("h3",null,"add new todolist"),r.a.createElement("div",null,r.a.createElement(q,{addItem:u})))),r.a.createElement(z.a,{container:!0,spacing:3},t.map((function(t){return r.a.createElement(z.a,{item:!0,key:t.id},r.a.createElement(G.a,{style:{padding:"10px"}},r.a.createElement(Z,{key:t.id,id:t.id,title:t.title,tasks:e[t.id],filter:t.filter,removeTask:i,changeTodoListFilter:d,addTask:c,changeTaskStatus:o,removeTodoList:m,changeTaskTitle:s,changeTodoListTitle:b})))}))))};var tt=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(N.a,{position:"static"},r.a.createElement(R.a,null,r.a.createElement(M.a,{edge:"start",color:"inherit","aria-label":"menu"},r.a.createElement(V.a,null)),r.a.createElement(P.a,{variant:"h6"}),r.a.createElement(H.a,{color:"inherit"},"Login"))),r.a.createElement(U.a,{fixed:!0},r.a.createElement(_,null)))};i.a.render(r.a.createElement(l.a,{store:K},r.a.createElement(tt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},75:function(t,e,n){t.exports=n(107)},80:function(t,e,n){}},[[75,1,2]]]);
//# sourceMappingURL=main.1732ea37.chunk.js.map